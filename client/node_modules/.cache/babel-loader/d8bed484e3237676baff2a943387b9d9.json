{"ast":null,"code":"import _regeneratorRuntime from\"/home/mrosa/Documents/Projects_2021/heroku/reviewing-2.0-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/mrosa/Documents/Projects_2021/heroku/reviewing-2.0-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/mrosa/Documents/Projects_2021/heroku/reviewing-2.0-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import api from'../services/Api';import FormAddBook from'./FormAddBook';import Nav from'./Nav';import Footer from'./Footer';import FormAddReview from'./FormAddReview';import Button from'@material-ui/core/Button';import Grid from'@material-ui/core/Grid';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function BooksList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),books=_useState2[0],setBooks=_useState2[1];useEffect(function(){function loadBooks(){return _loadBooks.apply(this,arguments);}function _loadBooks(){_loadBooks=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return api.get('/books');case 2:response=_context.sent;setBooks(response.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return _loadBooks.apply(this,arguments);}loadBooks();});function removeBook(_x){return _removeBook.apply(this,arguments);}function _removeBook(){_removeBook=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(title){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return api.delete(\"/delete-book/\".concat(title));case 2:res=_context2.sent;console.log(res);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _removeBook.apply(this,arguments);}var listBooks=/*#__PURE__*/_jsx(\"ul\",{children:books.map(function(book){return/*#__PURE__*/_jsxs(\"div\",{className:\"book-card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:book.title.toUpperCase()}),/*#__PURE__*/_jsx(\"p\",{children:book.author}),/*#__PURE__*/_jsx(Button,{href:\"/reviews/:\".concat(book.title),variant:\"contained\",color:\"primary\",children:\"reviews\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){removeBook(book.title);},variant:\"contained\",color:\"primary\",children:\"delete\"})]},book.title);})});return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:1,children:[/*#__PURE__*/_jsx(Grid,{container:true,item:true,xl:12,direction:\"column\",justify:\"center\",alignItems:\"center\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"title-books-comp\",children:\"REVIEWING BOOKS\"})}),/*#__PURE__*/_jsx(Grid,{container:true,item:true,xl:3,xs:3,direction:\"column\",justify:\"flex-start\",alignItems:\"center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"addBookForm\",children:[/*#__PURE__*/_jsx(FormAddBook,{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(FormAddReview,{})]})}),/*#__PURE__*/_jsx(Grid,{container:true,item:true,xl:6,xs:9,direction:\"column\",justify:\"center\",alignItems:\"center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"books-list\",children:listBooks})})]}),/*#__PURE__*/_jsx(Footer,{})]})});}export default BooksList;","map":{"version":3,"sources":["/home/mrosa/Documents/Projects_2021/heroku/reviewing-2.0-react/client/src/components/Books.js"],"names":["React","useState","useEffect","api","FormAddBook","Nav","Footer","FormAddReview","Button","Grid","BooksList","books","setBooks","loadBooks","get","response","data","removeBook","title","delete","res","console","log","listBooks","map","book","toUpperCase","author"],"mappings":"ijBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,GAAP,KAAgB,iBAAhB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,GAAP,KAAgB,OAAhB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,C,wFAEA,QAASC,CAAAA,SAAT,EAAqB,eAEOT,QAAQ,CAAC,EAAD,CAFf,wCAEZU,KAFY,eAELC,QAFK,eAInBV,SAAS,CAAC,UAAM,SACCW,CAAAA,SADD,qIACd,sKACyBV,CAAAA,GAAG,CAACW,GAAJ,CAAQ,QAAR,CADzB,QACQC,QADR,eAEEH,QAAQ,CAACG,QAAQ,CAACC,IAAV,CAAR,CAFF,sDADc,4CAKdH,SAAS,GAEV,CAPQ,CAAT,CAJmB,QAaJI,CAAAA,UAbI,0IAanB,kBAA0BC,KAA1B,qJACoBf,CAAAA,GAAG,CAACgB,MAAJ,wBAA2BD,KAA3B,EADpB,QACQE,GADR,gBAEEC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EAFF,wDAbmB,6CAkBnB,GAAMG,CAAAA,SAAS,cACb,oBACGZ,KAAK,CAACa,GAAN,CAAU,SAACC,IAAD,qBACT,aAAK,SAAS,CAAC,WAAf,wBACE,oBACGA,IAAI,CAACP,KAAL,CAAWQ,WAAX,EADH,EADF,cAIE,mBACGD,IAAI,CAACE,MADR,EAJF,cAOE,KAAC,MAAD,EAAQ,IAAI,qBAAeF,IAAI,CAACP,KAApB,CAAZ,CAAyC,OAAO,CAAC,WAAjD,CAA6D,KAAK,CAAC,SAAnE,qBAPF,cAUE,aAVF,cAWE,aAXF,cAYE,KAAC,MAAD,EAAQ,OAAO,CAAE,kBAAM,CAAED,UAAU,CAACQ,IAAI,CAACP,KAAN,CAAV,CAAwB,CAAjD,CAAmD,OAAO,CAAC,WAA3D,CAAuE,KAAK,CAAC,SAA7E,oBAZF,GAAgCO,IAAI,CAACP,KAArC,CADS,EAAV,CADH,EADF,CAuBA,mBACE,KAAC,KAAD,CAAO,QAAP,wBACE,aAAK,SAAS,CAAC,KAAf,wBACE,KAAC,GAAD,IADF,cAEE,MAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,OAAO,CAAE,CAAzB,wBACE,KAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,IAAI,KAApB,CAAqB,EAAE,CAAE,EAAzB,CACE,SAAS,CAAC,QADZ,CAEE,OAAO,CAAC,QAFV,CAGE,UAAU,CAAC,QAHb,uBAKE,WAAI,SAAS,CAAC,kBAAd,6BALF,EADF,cASE,KAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,IAAI,KAApB,CAAqB,EAAE,CAAE,CAAzB,CAA4B,EAAE,CAAE,CAAhC,CACE,SAAS,CAAC,QADZ,CAEE,OAAO,CAAC,YAFV,CAGE,UAAU,CAAC,QAHb,uBAKE,aAAK,SAAS,CAAC,aAAf,wBACE,KAAC,WAAD,IADF,cAEE,aAFF,cAGE,KAAC,aAAD,IAHF,GALF,EATF,cAoBE,KAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,IAAI,KAApB,CAAqB,EAAE,CAAE,CAAzB,CAA4B,EAAE,CAAE,CAAhC,CACE,SAAS,CAAC,QADZ,CAEE,OAAO,CAAC,QAFV,CAGE,UAAU,CAAC,QAHb,uBAME,YAAK,SAAS,CAAC,YAAf,UACGK,SADH,EANF,EApBF,GAFF,cAiCE,KAAC,MAAD,IAjCF,GADF,EADF,CAwCD,CAED,cAAeb,CAAAA,SAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport api from '../services/Api';\nimport FormAddBook from './FormAddBook';\nimport Nav from './Nav';\nimport Footer from './Footer';\nimport FormAddReview from './FormAddReview';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\n\nfunction BooksList() {\n\n  const [books, setBooks] = useState([]);\n\n  useEffect(() => {\n    async function loadBooks() {\n      const response = await api.get('/books');\n      setBooks(response.data);\n    }\n    loadBooks();\n\n  });\n\n  async function removeBook(title) {\n    const res = await api.delete(`/delete-book/${title}`);\n    console.log(res);\n  }\n\n  const listBooks = (\n    <ul>\n      {books.map((book) =>\n        <div className=\"book-card\" key={book.title}>\n          <h2>\n            {book.title.toUpperCase()}\n          </h2>\n          <p>\n            {book.author}\n          </p>\n          <Button href={`/reviews/:${book.title}`} variant=\"contained\" color=\"primary\">\n            reviews\n          </Button>\n          <br />\n          <br />\n          <Button onClick={() => { removeBook(book.title) }} variant=\"contained\" color=\"primary\">\n            delete\n          </Button>\n        </div>\n      )}\n    </ul>\n  );\n\n  return (\n    <React.Fragment>\n      <div className=\"App\">\n        <Nav />\n        <Grid container spacing={1}>\n          <Grid container item xl={12}\n            direction=\"column\"\n            justify=\"center\"\n            alignItems=\"center\"\n          >\n            <h1 className=\"title-books-comp\">REVIEWING BOOKS</h1>\n          </Grid>\n\n          <Grid container item xl={3} xs={3}\n            direction=\"column\"\n            justify=\"flex-start\"\n            alignItems=\"center\"\n          >\n            <div className=\"addBookForm\">\n              <FormAddBook />\n              <br />\n              <FormAddReview />\n            </div>\n          </Grid>\n          <Grid container item xl={6} xs={9}\n            direction=\"column\"\n            justify=\"center\"\n            alignItems=\"center\"\n          >\n\n            <div className=\"books-list\">\n              {listBooks}\n            </div>\n          </Grid>\n        </Grid>\n        <Footer />\n\n      </div>\n    </ React.Fragment>\n  );\n}\n\nexport default BooksList;"]},"metadata":{},"sourceType":"module"}